
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <script src="//use.typekit.net/grw3npf.js"></script>
  <script>try{Typekit.load();}catch(e){}</script>
  <meta charset="utf-8">
  <title>In Search of the Most Informative Review - Musings in Amusing Data</title>
  <meta name="author" content="Sudeep Das">

  
  <meta name="description" content="Sudeep Das I am a data scientist and an astrophysicist based in San Francisco. Before I jumped into data science, I completed my PhD in astrophysics &hellip;" />

  
  <meta name="keywords" content="Data Science, Machine Learning, Recommendation Systems, Astrophysics, Factorization Machines, Implicit Feedback, Non-negative matrix factorization, NLP, topic analysis, topic modeling" />

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link href='http://fonts.googleapis.com/css?family=Tinos:400,700,400italic' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Merriweather:400italic,300italic,300,700' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800' rel='stylesheet' type='text/css'>
  <link rel="canonical" href="http://datamusing.github.io/blog/2015/01/18/in-search-of-the-most-informative-review">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Musings in Amusing Data" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <link href="/stylesheets/data-table.css" media="screen, projection" rel="stylesheet" type="text/css" />
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-58361665-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

  <body>
    <a href="/" class="home-icon">
      <img src="/images/home.png"/>
    </a>

    <article role="article" class="full-single-article">
  <div class="container">
    <div class="row">
      <div class="col-md-8 col-md-offset-2">
        <h1>In Search of the Most Informative Review</h1>
        <div class="meta">
          
  

<span class="byline author vcard">Posted by <span class="fn">Sudeep Das</span></span>
 on 








  



<time datetime="2015-01-18T14:06:09-08:00" pubdate data-updated="true">Jan 18<sup>th</sup>, 2015</time>
          


        </div>
	<br>
	<div> 
         <a href="https://twitter.com/share" class="twitter-share-button" data-via="datamusing">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
<a href="https://twitter.com/datamusing" class="twitter-follow-button" data-show-count="false">Follow @datamusing</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

	</div>
        <p>The goal here is to find from the corpus of reviews of a restaurant, the one review that is most informative. 
<!--more-->
##How do we define informative? </p>

<p>For free form text, it is usually very difficult to come up with a metric for how informative a review is, just based on discrete signatures like tags. Here is where topics come in most handy. We illustrate how we can do this with SF Bay Area reviews. </p>

<h2 id="the-recipe-and-a-worked-example">The recipe, and a worked example</h2>

<p>First, I took the <strong>4 or 5 star</strong> reviews from the last year from all SF Bay area restaurants, and learnt 100 topics from them. </p>

<p>Then, for each restaurant, I find the most relevant topics that apply to that restaurant. I am glossing over some details here, but basically I have a mathematical formulations that finds the topics that have the highest proportion in that restaurant, and are  also distinctive of the restaurant at hand. So, in the end we have a distribution of topics for that restaurant. </p>

<p>Let take <a href="http://www.opentable.com/la-mar-cebicheria-peruana">La Mar Cabicheria Peruana</a> near Embarcadero as an example. I have been there several times, and I know it has excellent ambiance, amazing views of the bay, a great seafood menu, and great service.  </p>

<p>Let us see how topics do in summarizing this information. 
Here is the topic distribution for La Mar:</p>

<p><img src="https://dl.dropboxusercontent.com/u/18915298/blog/featuredReviews/LaMarTopics.png" alt="" /></p>

<p>You can eyeball the  top 5 topics as topics 20, 60, 66, 33 and 79. 
And here is how they look:</p>

<p><img src="https://dl.dropboxusercontent.com/u/18915298/blog/featuredReviews/LaMarTopTopics.png" alt="" /></p>

<p>They seem to be bang on! From the distribution, we see that there are various other topics with significant weight for this restaurant. </p>

<p>So, the most informative review will be the one that has a topic distribution that is most closely aligned with the above reference topic distribution. </p>

<p>Lets pick an arbitrary review first. It is a 5-star review and it says:</p>

<blockquote>
  <p>‘After living in Lima for the past 3 1/2 years, it is good to have this to get our Cebiche and Pisco fix!!’</p>
</blockquote>

<p>It’s topic distribution looks like:</p>

<p><img src="https://dl.dropboxusercontent.com/u/18915298/blog/featuredReviews/LaMarLowInfoReviewDist.png" alt="" /></p>

<p>It is very different from the reference topic distribution, and has weight only on one topic, the Topic 62 that looks like:</p>

<p><img src="https://dl.dropboxusercontent.com/u/18915298/blog/featuredReviews/topic_62.png" alt="" /></p>

<p>As such, this review is almost of no use to us. </p>

<p>To find the best review, we look at the topic distribution of each review, and find its distance from the reference topic distribution (this is done with what is known as a cosine distance). Then we can rank all the reviews by increasing distance from the reference distribution.  </p>

<p>If I just pick the top review without any date restriction this is what I find: </p>

<blockquote>
  <p>I discovered this restaurant after returning from a trip to Peru this year.  The menu is extensive, creative, and authentic. On arrival, we were presented with complimentary house-made potato, sweet potato and plantain chips accompanied by wonderful aji (pepper) flavored dips.  The halibut ceviche was out of this world!  The fish was so fresh, citrus bright, and the presentation gorgeous.  Our waiter was very helpful and knowledgeable, guiding us through the menu, which assured us of a terrific meal and dining experience.  Other pluses: easy walk from the Embarcadero BART station, close to the Ferry Building, and nice view of the Bay from the patio tables.  I have been back twice and plan to dine at La Mar again soon!  — Dined on 2014-11-12</p>
</blockquote>

<p>This review has a topic distribution that looks very close to the reference distribution.</p>

<p><img src="https://dl.dropboxusercontent.com/u/18915298/blog/featuredReviews/LaMarHighInfoReviewDist.png" alt="" /></p>

<p>So, we have found this is a beautiful informative review. It touches upon most of the salient aspects of the restaurants. </p>

<h2 id="applying-business-rules">Applying business rules</h2>

<p>One we have all the reviews sorted by information content, it is very easy to apply business rules. We can say, for example, we want the featured  review to be no more than 90 days old. So we can just go down the list and find the top review that meets this criterion:</p>

<p>This gives us:</p>

<blockquote>
  <p>Took my company to LaMar for a holiday celebration and it exceeded our expectations. Great view, lively crowd, and unique menu. We shared many plates and they all hit the mark. Finished with five different desserts…all excellent. Can’t wait to go back and explore more items on the menu!<br />
Dined on   — 2014-12-10</p>
</blockquote>

<p>that is still an excellent review for featuring! </p>

<h2 id="to-do-finding-the-most-relevant-snippet-from-the-featured-review">TO DO: Finding the most relevant snippet from the featured review</h2>

<p>So, now that we have identified the review to be featured, we need to find the snippet that we want to highlight. Right now, we use an excerpt from the beginning of the review, but there are many possibilities here. This needs to be decided at a business rule level. </p>



        <hr class="divider-short"/>
        
        <div class="share">
	<div class="addthis_toolbox addthis_default_style ">
	
	<a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
	
	
	<a class="addthis_button_tweet"></a>
	
	
	<a class="addthis_counter addthis_pill_style"></a>
	</div>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid="></script>
</div>

           
        
        <section>
          <h2>Comments</h2>
          <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
        </section>
        
      </div>
    </div>
  </div>
</article>

<hr class="divider-short"/>

<div class="archive-link">
  <div class="container">
    <div class="row">
      <div class="col-md-8 col-md-offset-2">
        
          <a class="pull-left" href="/blog/2015/01/07/implicit-feedback-and-collaborative-filtering/" title="Previous Post: Implicit Feedback and Collaborative Filtering">&laquo; Previous: Implicit Feedback and Collaborative Filtering</a>
        

        
          <a class="pull-right" href="/blog/2015/01/25/inverted-aeropress-on-the-go-when-a-data-scientist-needs-to-think-on-the-road/" title="Next Post: Inverted Aeropress Coffee On The Go: When a (data) scientist needs to think on the road">Next: Inverted Aeropress Coffee On The Go: When a (data) scientist needs to think on the road &raquo;</a>
        
      </div>
    </div>
  </div>
</div>

    <footer id="footer" class="her-row">
  <div class="container">
    <div class="row">
      <div class="col-md-1">
  <a href="/"><h4>Home</h4></a>
</div>

<div class="col-md-2">
  <div class="social-icon-list">
    
    <a href="https://twitter.com/datamusing"><img src="/images/glyphicons_social_31_twitter.png"/></a>
    

    
    <a href="https://github.com/datamusing"><img src="/images/glyphicons_social_21_github.png"/></a>
    

    

    
    <a href="mailto:datamusing@gmail.com"><img src="/images/glyphicons_social_39_e-mail.png"/></a>
    
  </div>
</div>

<div class="pull-right">
  <h4>Powered by <a href="http://octopress.org/">Octopress</a>.</h4>
</div>


    </div>
  </div>
</footer>

    
      

<script type="text/javascript">
      var disqus_shortname = 'datamusing';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://datamusing.github.io/blog/2015/01/18/in-search-of-the-most-informative-review/';
        var disqus_url = 'http://datamusing.github.io/blog/2015/01/18/in-search-of-the-most-informative-review/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>


    
  </body>
</html>
<!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  jax: ["input/TeX", "output/HTML-CSS"],
  tex2jax: {
    inlineMath: [ ['$', '$'] ],
    displayMath: [ ['$$', '$$']],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  messageStyle: "none",
  "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
});
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>
