
<!DOCTYPE HTML>

<html>

<head>
	<meta charset="utf-8">
	<title>On a mission, in the Mission - Musings in Amusing Data</title>
	<meta name="author" content="Sudeep Das">

	
	<meta name="description" content="On a Mission, in the Mission or, how I leveraged machine learning to find must try dishes in my neighborhood! SAN FRANCISCO, CA — Whether its the &hellip;">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="Musings in Amusing Data" type="application/atom+xml">
	
	<link rel="canonical" href="http://datamusing.github.io/blog/2014/08/02/on-a-mission/">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="/stylesheets/font-awesome.min.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<link href='http://fonts.googleapis.com/css?family=Nunito:400,300,700' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
  

</head>

<!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  jax: ["input/TeX", "output/HTML-CSS"],
  tex2jax: {
    inlineMath: [ ['$', '$'] ],
    displayMath: [ ['$$', '$$']],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  messageStyle: "none",
  "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
});
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>
<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><div class="profilepic">
	
	<script src="/javascripts/md5.js"></script>
	<script type="text/javascript">
		$(function(){
			$('.profilepic').append("<img src='http://www.gravatar.com/avatar/" + MD5("datamusing@gmail.com") + "?s=160' alt='Profile Picture' style='width: 160px;' />");
		});
	</script>
	
</div>
<hgroup>
  <h2><a href="/">Sudeep Das, Ph.D.</a></h2>
  <h4 style="color:#A3FFFF">Data Scientist. Astrophysicist.</h4>
</hgroup>

<nav id="main-nav"><ul class="main">
    <li><a href="/">Blog</a></li>
    <li><a href="http://about.me/sudeepdas">About</a></li>
    <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
<nav id="sub-nav">
	<div class="social">
		
			<a class="email" href="mailto:datamusing@gmail.com" title="Email">Email</a>
		
		
		
		
			<a class="twitter" href="http://twitter.com/datamusing" title="Twitter">Twitter</a>
		
		
			<a class="github" href="https://github.com/datamusing" title="GitHub">GitHub</a>
		
		
		
		
		
		
		
		
		
		
    	
    	
			<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
</nav>
</header>				
			</div>
		</div>	
		<div class="mid-col">
			
				
			
			<div class="mid-col-container">
				<div id="content" class="inner"><article class="post" itemscope itemtype="http://schema.org/BlogPosting">
	<h1 class="title" itemprop="name">On a Mission, in the Mission</h1>
	<div class="entry-content" itemprop="articleBody"><h3 id="or-how-i-leveraged-machine-learning-to-find-must-try-dishes-in-my-neighborhood"><em>or, how I leveraged machine learning to find must try dishes in my neighborhood!</em></h3>

<p>SAN FRANCISCO, CA — Whether its the yummy <em>focaccia de recco</em> at <strong>Farina</strong>, the scrumptious <em>steak tartare</em> at <strong>Bar Tartine</strong>, the <em>chicken liver mousse</em> at Range, or the absolutely bulletproof <em>sesame fried chicken</em> at <strong>Foreign Cinema</strong> — each fine dining restaurant in the Mission District of San Francisco seems to have something mouthwateringly unique to offer.</p>

<p><img class="center" src="https://dl.dropboxusercontent.com/u/18915298/blog/mission_food/bar_tartine.jpg" /></p>

<p>The Mission is my neighborhood.  I endearingly call it  the “SF Foodie Central”, not just because some of the best fine dinning restaurants  happen to be here, but also because smaller, fiercely independent purveyors of fine delicacies like <em>Craftsman &amp; Wolves</em>, <em>Dandelion Chocolate</em>, <em>Tartine Bakery</em>, <em>Bi-Rite Creamery</em>,  <em>Four Barrel Coffee</em>, and <em>Ritual Roasters</em>  keep the food scene vibrant and at its delicious best! And then, there is the Mission Mexican food, which is hands down the best in the city. 
  <!--more--> </p>

<p>So it was quite predictable that when analyzing <a href="www.opentable.com">OpenTable</a> diner reviews for a data science concept project, I chose to go after the restaurants in the Mission District first. The result of this analysis is a list of <em>the most talked about dishes</em> in the restaurants. </p>

<p>The impatient readers who do not want the algorithm to stand between them and the dishes can scroll down straight to the bottom of the page where all will be revealed.  The inquisitive ones please read on. </p>

<h2 id="an-overview-of-the-algorithm">An overview of the algorithm</h2>

<p>Before I inundate you with names and pictures of those amazing dishes, let me get through the crux of the algorithm as quickly as possible. 
<img class="right" src="https://dl.dropboxusercontent.com/u/18915298/blog/mission_food/brunch.png" width="400" height="400" />
The first insight I wanted glean from the huge amount of reviews we have was the set of  main themes, or <em>topics</em> that people are talking about. That is done with a method called <em>topic analysis</em>, for which I used non-negative matrix factorization (NMF) as the main technique (I will write more about the nuances of the method in a future post).  A topic, is essentially a coherent collection of words - or a distribution of over words in the vocabulary. The top words in the <strong>brunch</strong> topic, e.g. may look like the one on the right. It is almost magical to see how words like  <em>brunch, sunday, eggs, benedict, omelette, poached, mimosa, hash, brown</em> and so forth come together into a tightly thematic topic that is readily interpretable. Topic analysis gave me topics for food, drinks, ambiance, service, and so on. For the menu item hunt that was the main focus of this post,  I concentrated on all the food topics. Note that the way topic analysis works, we obtain as a free byproduct the weight of the topics in each review, and by extension, the weight of each topic for each restaurant; e.g. the seafood topic will have very little weight in a restaurant that serves only meat dishes. Once I had that information, I could then look for the most frequently occurring words, bigrams, and trigrams within the context of the topics that peak at that restaurant, and quickly identify the most mentioned food items. There is some secret sauce that helps me disambiguate different ways reviewers talk about the same dish (e.g., someone says “cellophane noodles”, someone else says “cellophane noodles with crab”, yet another reviewer says “the crab noodles”, but they are all referring to the dish “cellophane noodles with dungeness crab”). 
In the end, you just count up the mappings to the dish item, rank them by number of mentions, and voila, you have the most mentioned dishes! </p>

<p>And now lets turn to the results! </p>

<h2 id="the-goods-delivered">The goods, delivered</h2>

<p>Although for each restaurant in the Mission, I could surface multiple dishes, I decided to only show the top (as in most mentioned) dish per restaurant. Note that this is very beta, and we can do so much more in terms of actually figuring out if the dish is being talked about in a positive manner and then count it in, etc. Those will come in due course! Meanwhile, here are the results (<em>scroll to center the iframe on your screen and scroll within the frame from one restaurant to the next</em>).  ENJOY! </p>

<iframe width="100%" height="768" frameborder="0" src="http://bl.ocks.org/anonymous/raw/dde021cbd234a015c111" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen="" oallowfullscreen="" msallowfullscreen=""></iframe>

</div>

</article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
	
	<a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
	
	
	<a class="addthis_button_tweet"></a>
	
	
	<a class="addthis_counter addthis_pill_style"></a>
	</div>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid="></script>
</div>


</div>
			</div>
			<footer id="footer" class="inner">Copyright &copy; 2014

    Sudeep Das


Design credit: <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a></footer>
		</div>
	</div>
	



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




</body>
</html>
